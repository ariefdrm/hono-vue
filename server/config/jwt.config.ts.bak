import "dotenv/config";
import { sign } from "hono/jwt";

export const JWT_SECRET = process.env.JWT_SECRET || "your-secret-key";

// Helper: Generate JWT
export function generateToken(user: any) {
  const payload = {
    id: user.id,
    role: user.role,
    exp: Math.floor(Date.now() / 1000) + 60 * 60,
  };

  return sign(payload, JWT_SECRET, "HS256") as Promise<String>;
}
